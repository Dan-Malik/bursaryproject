{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\src\\\\components\\\\edit-trainee.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport CryptoJS from \"react-native-crypto-js\";\nimport { codes } from \"../secrets/secrets.js\";\nimport AccessDenied from './modules/AccessDenied';\nimport { authService } from './modules/authService';\nimport '../css/edit-list-trainee.css';\n\nvar EditTrainee =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditTrainee, _Component);\n\n  function EditTrainee(props) {\n    var _this;\n\n    _classCallCheck(this, EditTrainee);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditTrainee).call(this, props));\n    _this.onChangeTraineeFname = _this.onChangeTraineeFname.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeTraineeLname = _this.onChangeTraineeLname.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeTraineeEmail = _this.onChangeTraineeEmail.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeTraineeAccount = _this.onChangeTraineeAccount.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeTraineeSort = _this.onChangeTraineeSort.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeTraineeBankName = _this.onChangeTraineeBankName.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeTraineeBankBranch = _this.onChangeTraineeBankBranch.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      trainee_fname: '',\n      trainee_lname: '',\n      trainee_email: '',\n      trainee_bank_name: '',\n      trainee_bank_branch: '',\n      trainee_account_no: '',\n      trainee_sort_code: '',\n      similar_codes: [],\n      show_matching_bank: false,\n      show_non_matching_bank: false,\n      currentUser: authService.currentUserValue\n    };\n    return _this;\n  }\n\n  _createClass(EditTrainee, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://' + process.env.REACT_APP_AWS_IP + ':4000/trainee/' + this.props.match.params.id).then(function (response) {\n        var trainee_fname = CryptoJS.AES.decrypt(response.data.trainee_fname, codes.trainee);\n        var trainee_lname = CryptoJS.AES.decrypt(response.data.trainee_lname, codes.trainee);\n        var trainee_email = CryptoJS.AES.decrypt(response.data.trainee_email, codes.staff, {\n          iv: codes.iv\n        });\n\n        if (response.data.trainee_account_no != null && response.data.trainee_sort_code != null) {\n          var trainee_bank_name = CryptoJS.AES.decrypt(response.data.trainee_bank_name, codes.trainee);\n          var trainee_account_no = CryptoJS.AES.decrypt(response.data.trainee_account_no, codes.trainee);\n          var trainee_sort_code = CryptoJS.AES.decrypt(response.data.trainee_sort_code, codes.trainee);\n\n          _this2.setState({\n            trainee_bank_name: trainee_bank_name.toString(CryptoJS.enc.Utf8),\n            trainee_account_no: trainee_account_no.toString(CryptoJS.enc.Utf8),\n            trainee_sort_code: trainee_sort_code.toString(CryptoJS.enc.Utf8)\n          });\n        }\n\n        _this2.setState({\n          trainee_fname: trainee_fname.toString(CryptoJS.enc.Utf8),\n          trainee_lname: trainee_lname.toString(CryptoJS.enc.Utf8),\n          trainee_email: trainee_email.toString(CryptoJS.enc.Utf8)\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"onChangeTraineeFname\",\n    value: function onChangeTraineeFname(e) {\n      this.setState({\n        trainee_fname: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeTraineeLname\",\n    value: function onChangeTraineeLname(e) {\n      this.setState({\n        trainee_lname: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeTraineeEmail\",\n    value: function onChangeTraineeEmail(e) {\n      this.setState({\n        trainee_email: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeTraineeBankName\",\n    value: function onChangeTraineeBankName(e) {\n      this.setState({\n        trainee_bank_name: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeTraineeBankBranch\",\n    value: function onChangeTraineeBankBranch(e) {\n      this.setState({\n        trainee_bank_branch: e.target.value\n      });\n    }\n  }, {\n    key: \"showMatchingBank\",\n    value: function showMatchingBank(e) {}\n  }, {\n    key: \"onChangeTraineeAccount\",\n    value: function onChangeTraineeAccount(e) {\n      this.setState({\n        trainee_account_no: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeTraineeSort\",\n    value: function onChangeTraineeSort(e) {\n      var _this3 = this;\n\n      this.setState({\n        trainee_sort_code: e.target.value\n      });\n\n      if (e.target.value.length > 5) {\n        var sortcode = e.target.value;\n\n        if (sortcode.charAt(0) == 0) {\n          sortcode = sortcode.slice(1);\n          console.log(sortcode);\n        }\n\n        axios.post('http://' + process.env.REACT_APP_AWS_IP + ':4000/trainee/findBank', {\n          sort_code: sortcode\n        }).then(function (res) {\n          if (res.data.Match == true) {\n            console.log(res.data.BankName);\n\n            _this3.setState({\n              trainee_bank_name: res.data.BankName,\n              trainee_bank_branch: res.data.Branch,\n              show_matching_bank: true\n            });\n          } else {\n            _this3.setState({\n              trainee_bank_name: '',\n              trainee_bank_branch: '',\n              show_non_matching_bank: true,\n              similar_codes: res.data.OtherCodes\n            });\n          }\n        });\n      } else {\n        this.setState({\n          trainee_bank_name: '',\n          trainee_bank_branch: '',\n          show_matching_bank: false,\n          show_non_matching_bank: false\n        });\n      }\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      var _this4 = this;\n\n      e.preventDefault();\n      var fname = CryptoJS.AES.encrypt(this.state.trainee_fname, codes.trainee);\n      var lname = CryptoJS.AES.encrypt(this.state.trainee_lname, codes.trainee);\n      var email = CryptoJS.AES.encrypt(this.state.trainee_email, codes.staff, {\n        iv: codes.iv\n      });\n      var bankName = CryptoJS.AES.encrypt(this.state.trainee_bank_name, codes.trainee);\n      var accountNo = CryptoJS.AES.encrypt(this.state.trainee_account_no, codes.trainee);\n      var sortCode = CryptoJS.AES.encrypt(this.state.trainee_sort_code, codes.trainee);\n      var formatted_sort_code = '';\n\n      if (this.state.trainee_sort_code.charAt(0) == 0) {\n        formatted_sort_code = this.state.trainee_sort_code.slice(1);\n      } else {\n        formatted_sort_code = this.state.trainee_sort_code;\n      }\n\n      var updated_trainee = {\n        trainee_fname: fname.toString(),\n        trainee_lname: lname.toString(),\n        trainee_email: email.toString(),\n        trainee_bank_name: bankName.toString(),\n        trainee_account_no: accountNo.toString(),\n        trainee_sort_code: sortCode.toString()\n      };\n      var new_bank = {\n        SortCode: formatted_sort_code,\n        BankName: this.state.trainee_bank_name,\n        Branch: this.state.trainee_bank_branch\n      };\n\n      if (this.state.show_non_matching_bank == true) {\n        axios.post('http://' + process.env.REACT_APP_AWS_IP + ':4000/trainee/update/' + this.props.match.params.id, updated_trainee).then(function (res) {\n          console.log(res.data);\n          console.log(new_bank);\n          axios.post('http://' + process.env.REACT_APP_AWS_IP + ':4000/trainee/addBank/', new_bank).then(function (res) {\n            console.log(res.data);\n\n            _this4.props.history.push('/trainee-details/' + _this4.props.match.params.id);\n\n            window.location.reload();\n          });\n        });\n      } else {\n        axios.post('http://' + process.env.REACT_APP_AWS_IP + ':4000/trainee/update/' + this.props.match.params.id, updated_trainee).then(function (res) {\n          console.log(res.data);\n\n          _this4.props.history.push('/trainee-details/' + _this4.props.match.params.id);\n\n          window.location.reload();\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var show_matching_bank = this.state.show_matching_bank;\n      var show_non_matching_bank = this.state.show_non_matching_bank;\n\n      if (this.state.currentUser.token.role !== undefined) {\n        return React.createElement(AccessDenied, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 208\n          },\n          __self: this\n        });\n      } else {\n        return React.createElement(\"div\", {\n          className: \"QATable\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          className: \"edit-form\",\n          onSubmit: this.onSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 213\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"all-edit-box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 214\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 215\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 216\n          },\n          __self: this\n        }, \"First Name: \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: this.state.trainee_fname,\n          onChange: this.onChangeTraineeFname,\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 217\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 224\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 225\n          },\n          __self: this\n        }, \"Last Name: \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: this.state.trainee_lname,\n          onChange: this.onChangeTraineeLname,\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 226\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 233\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 234\n          },\n          __self: this\n        }, \"Email: \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: this.state.trainee_email,\n          onChange: this.onChangeTraineeEmail,\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 235\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, \"Account Number: \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: this.state.trainee_account_no,\n          onChange: this.onChangeTraineeAccount,\n          maxLength: \"8\",\n          required: true,\n          minLength: 8,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 245\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 253\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 254\n          },\n          __self: this\n        }, \"Sort Code: \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: this.state.trainee_sort_code,\n          onChange: this.onChangeTraineeSort,\n          maxLength: \"6\",\n          required: true,\n          minLength: 6,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 255\n          },\n          __self: this\n        })), show_matching_bank ? React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 265\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 266\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }, \"Bank Name: \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: this.state.trainee_bank_name,\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 274\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 275\n          },\n          __self: this\n        }, \"Bank Address: \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: this.state.trainee_bank_branch,\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 276\n          },\n          __self: this\n        }))) : \"\", show_non_matching_bank ? React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 285\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 286\n          },\n          __self: this\n        }, \"Sort code not found, similar sort codes shown below:\"), this.state.similar_codes.map(function (code, index) {\n          return React.createElement(\"div\", {\n            key: index,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 288\n            },\n            __self: this\n          }, \"- \", code);\n        }), React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 290\n          },\n          __self: this\n        }, \"Please make sure the sort code you entered is correct, and then enter your bank details:\"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 291\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 292\n          },\n          __self: this\n        }, \"Bank Name: \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: this.state.trainee_bank_name,\n          onChange: this.onChangeTraineeBankName,\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 293\n          },\n          __self: this\n        }), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 299\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 300\n          },\n          __self: this\n        }, \"Bank Address: \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: this.state.trainee_bank_branch,\n          onChange: this.onChangeTraineeBankBranch,\n          required: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 301\n          },\n          __self: this\n        })) : \"\", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 311\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"submit\",\n          value: \"Update\",\n          className: \"btn btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 312\n          },\n          __self: this\n        })))));\n      }\n    }\n  }]);\n\n  return EditTrainee;\n}(Component);\n\nexport { EditTrainee as default };","map":{"version":3,"sources":["C:\\Users\\Chi Zhang\\Desktop\\QA Bursary project\\AWS-Bursary-Project-V1\\React\\src\\components\\edit-trainee.component.js"],"names":["React","Component","axios","CryptoJS","codes","AccessDenied","authService","EditTrainee","props","onChangeTraineeFname","bind","onChangeTraineeLname","onChangeTraineeEmail","onChangeTraineeAccount","onChangeTraineeSort","onChangeTraineeBankName","onChangeTraineeBankBranch","onSubmit","state","trainee_fname","trainee_lname","trainee_email","trainee_bank_name","trainee_bank_branch","trainee_account_no","trainee_sort_code","similar_codes","show_matching_bank","show_non_matching_bank","currentUser","currentUserValue","get","process","env","REACT_APP_AWS_IP","match","params","id","then","response","AES","decrypt","data","trainee","staff","iv","setState","toString","enc","Utf8","catch","error","console","log","e","target","value","length","sortcode","charAt","slice","post","sort_code","res","Match","BankName","Branch","OtherCodes","preventDefault","fname","encrypt","lname","email","bankName","accountNo","sortCode","formatted_sort_code","updated_trainee","new_bank","SortCode","history","push","window","location","reload","token","role","undefined","map","code","index"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport CryptoJS from \"react-native-crypto-js\";\r\nimport { codes } from \"../secrets/secrets.js\";\r\nimport AccessDenied from './modules/AccessDenied';\r\nimport { authService } from './modules/authService';\r\nimport '../css/edit-list-trainee.css';\r\n\r\n\r\nexport default class EditTrainee extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.onChangeTraineeFname = this.onChangeTraineeFname.bind(this);\r\n        this.onChangeTraineeLname = this.onChangeTraineeLname.bind(this);\r\n        this.onChangeTraineeEmail = this.onChangeTraineeEmail.bind(this);\r\n        this.onChangeTraineeAccount = this.onChangeTraineeAccount.bind(this);\r\n        this.onChangeTraineeSort = this.onChangeTraineeSort.bind(this);\r\n        this.onChangeTraineeBankName = this.onChangeTraineeBankName.bind(this);\r\n        this.onChangeTraineeBankBranch = this.onChangeTraineeBankBranch.bind(this);\r\n\t\t\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            trainee_fname: '',\r\n            trainee_lname: '',\r\n            trainee_email: '',\r\n            trainee_bank_name: '',\r\n            trainee_bank_branch: '',\r\n            trainee_account_no: '',\r\n            trainee_sort_code: '',\r\n            similar_codes: [],\r\n            show_matching_bank: false,\r\n            show_non_matching_bank: false,\r\n\t\t\tcurrentUser: authService.currentUserValue\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        axios.get('http://'+process.env.REACT_APP_AWS_IP+':4000/trainee/'+this.props.match.params.id)\r\n            .then(response => {\r\n                var trainee_fname  = CryptoJS.AES.decrypt(response.data.trainee_fname, codes.trainee);\r\n                var trainee_lname  = CryptoJS.AES.decrypt(response.data.trainee_lname, codes.trainee);\r\n                var trainee_email  = CryptoJS.AES.decrypt(response.data.trainee_email, codes.staff, {iv:codes.iv});\r\n                \r\n                if(response.data.trainee_account_no != null && response.data.trainee_sort_code != null){\r\n\t\t\t\t\tvar trainee_bank_name = CryptoJS.AES.decrypt(response.data.trainee_bank_name, codes.trainee);\r\n                    var trainee_account_no = CryptoJS.AES.decrypt(response.data.trainee_account_no, codes.trainee);\r\n                    var trainee_sort_code = CryptoJS.AES.decrypt(response.data.trainee_sort_code, codes.trainee);\r\n                    this.setState({\r\n\t\t\t\t\t\ttrainee_bank_name: trainee_bank_name.toString(CryptoJS.enc.Utf8),\r\n                        trainee_account_no: trainee_account_no.toString(CryptoJS.enc.Utf8),\r\n                        trainee_sort_code: trainee_sort_code.toString(CryptoJS.enc.Utf8)\r\n                    })\r\n                }\r\n                \r\n                this.setState({\r\n                    trainee_fname: trainee_fname.toString(CryptoJS.enc.Utf8),\r\n                    trainee_lname: trainee_lname.toString(CryptoJS.enc.Utf8),\r\n                    trainee_email: trainee_email.toString(CryptoJS.enc.Utf8),\r\n                })   \r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            })\r\n    }\r\n    \r\n    onChangeTraineeFname(e) {\r\n        this.setState({\r\n            trainee_fname: e.target.value\r\n        });\r\n    }\r\n    \r\n    onChangeTraineeLname(e) {\r\n        this.setState({\r\n            trainee_lname: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeTraineeEmail(e) {\r\n        this.setState({\r\n            trainee_email: e.target.value\r\n        });\r\n    }\r\n\r\n\tonChangeTraineeBankName(e){\r\n\t\tthis.setState ({\r\n\t\t\ttrainee_bank_name:e.target.value\r\n\t\t});\r\n    }\r\n    \r\n    onChangeTraineeBankBranch(e){\r\n\t\tthis.setState ({\r\n\t\t\ttrainee_bank_branch:e.target.value\r\n\t\t});\r\n\t}\r\n\t\r\n\tshowMatchingBank(e){\r\n}\r\n\r\n    onChangeTraineeAccount(e) {\r\n        this.setState({\r\n            trainee_account_no: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeTraineeSort(e) {\r\n        this.setState({\r\n            trainee_sort_code: e.target.value\r\n        })\r\n        if(e.target.value.length > 5){\r\n            let sortcode = e.target.value;\r\n            if(sortcode.charAt(0) == 0){\r\n                sortcode = sortcode.slice(1);\r\n                console.log(sortcode);\r\n            }\r\n            axios.post('http://'+process.env.REACT_APP_AWS_IP+':4000/trainee/findBank', {sort_code: sortcode})\r\n            .then(res => {\r\n                if(res.data.Match == true){\r\n                    console.log(res.data.BankName)\r\n                    this.setState({\r\n                        trainee_bank_name: res.data.BankName,\r\n                        trainee_bank_branch: res.data.Branch,\r\n                        show_matching_bank: true\r\n                    })\r\n                }\r\n                else{\r\n                    this.setState({\r\n                        trainee_bank_name: '',\r\n                        trainee_bank_branch: '',\r\n                        show_non_matching_bank: true,\r\n                        similar_codes: res.data.OtherCodes\r\n                    })\r\n                }\r\n            });\r\n        }\r\n        else{\r\n            this.setState({\r\n                trainee_bank_name: '',\r\n                trainee_bank_branch: '',\r\n                show_matching_bank: false,\r\n                show_non_matching_bank: false\r\n            })\r\n        }\r\n    }\r\n    \r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        var fname = CryptoJS.AES.encrypt(this.state.trainee_fname, codes.trainee);\r\n        var lname = CryptoJS.AES.encrypt(this.state.trainee_lname, codes.trainee);\r\n        var email = CryptoJS.AES.encrypt(this.state.trainee_email, codes.staff, {iv: codes.iv});\r\n        var bankName = CryptoJS.AES.encrypt(this.state.trainee_bank_name, codes.trainee);\r\n\t\tvar accountNo = CryptoJS.AES.encrypt(this.state.trainee_account_no, codes.trainee);\r\n        var sortCode = CryptoJS.AES.encrypt(this.state.trainee_sort_code, codes.trainee);\r\n        var formatted_sort_code = '';\r\n\r\n        if(this.state.trainee_sort_code.charAt(0) == 0){\r\n            formatted_sort_code = this.state.trainee_sort_code.slice(1);\r\n        }\r\n        else{\r\n            formatted_sort_code =this.state.trainee_sort_code;\r\n        }\r\n\t\t\r\n        const updated_trainee = {\r\n            trainee_fname: fname.toString(),\r\n            trainee_lname: lname.toString(),\r\n            trainee_email: email.toString(),\r\n\t\t\ttrainee_bank_name:bankName.toString(),\r\n            trainee_account_no: accountNo.toString(),\r\n            trainee_sort_code: sortCode.toString()\r\n        };\r\n\r\n        const new_bank = {\r\n            SortCode: formatted_sort_code,\r\n            BankName: this.state.trainee_bank_name,\r\n            Branch: this.state.trainee_bank_branch\r\n        }\r\n        if(this.state.show_non_matching_bank == true){\r\n            axios.post('http://'+process.env.REACT_APP_AWS_IP+':4000/trainee/update/'+this.props.match.params.id, updated_trainee)\r\n            .then(res => {\r\n                console.log(res.data);\r\n                console.log(new_bank);\r\n                axios.post('http://'+process.env.REACT_APP_AWS_IP+':4000/trainee/addBank/', new_bank)\r\n                .then(res => {\r\n                    console.log(res.data);\r\n                    this.props.history.push('/trainee-details/'+this.props.match.params.id);\r\n                    window.location.reload();\r\n                });\r\n            });\r\n        }\r\n        else{\r\n            axios.post('http://'+process.env.REACT_APP_AWS_IP+':4000/trainee/update/'+this.props.match.params.id, updated_trainee)\r\n            .then(res => {\r\n                console.log(res.data);\r\n                this.props.history.push('/trainee-details/'+this.props.match.params.id);\r\n                window.location.reload();\r\n            });\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {show_matching_bank} = this.state;\r\n        const {show_non_matching_bank} = this.state;\r\n\t\t\r\n\t\tif(this.state.currentUser.token.role !== undefined){\r\n\t\t\treturn (\r\n\t\t\t<AccessDenied/>\r\n\t\t);\r\n\t\t}else{\r\n        return (\r\n            <div className=\"QATable\">\r\n                <form className=\"edit-form\" onSubmit={this.onSubmit}>\r\n                    <div className=\"all-edit-box\">\r\n\t\t\t\t\t<div className=\"form-group\"> \r\n                        <label>First Name: </label>\r\n                        <input  type=\"text\"\r\n                                className=\"form-control\"\r\n                                value={this.state.trainee_fname}\r\n                                onChange={this.onChangeTraineeFname}\r\n                                disabled\r\n                                />\r\n                    </div>\r\n                     <div className=\"form-group\"> \r\n                        <label>Last Name: </label>\r\n                        <input  type=\"text\"\r\n                                className=\"form-control\"\r\n                                value={this.state.trainee_lname}\r\n                                onChange={this.onChangeTraineeLname}\r\n                                disabled\r\n                                />\r\n                    </div>           \r\n                    <div className=\"form-group\">\r\n                        <label>Email: </label>\r\n                        <input \r\n                                type=\"text\" \r\n                                className=\"form-control\"\r\n                                value={this.state.trainee_email}\r\n                                onChange={this.onChangeTraineeEmail}\r\n                                disabled\r\n                                />\r\n                    </div>\r\n                    <div className=\"form-group\"> \r\n                        <label>Account Number: </label>\r\n                        <input  type=\"text\"\r\n                                className=\"form-control\"\r\n                                value={this.state.trainee_account_no}\r\n                                onChange={this.onChangeTraineeAccount}\r\n                                maxLength=\"8\"\r\n                                required minLength = {8}\r\n                                />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Sort Code: </label>\r\n                        <input \r\n                                type=\"text\" \r\n                                className=\"form-control\"\r\n                                value={this.state.trainee_sort_code}\r\n                                onChange={this.onChangeTraineeSort}\r\n                                maxLength=\"6\"\r\n                                required minLength = {6}\r\n                                />\r\n                    </div>\r\n                    {show_matching_bank ?\r\n                        <div>\r\n                        <div className=\"form-group\"> \r\n                            <label>Bank Name: </label>\r\n                            <input  type=\"text\"\r\n                                className=\"form-control\"\r\n                                value={this.state.trainee_bank_name}\r\n                                disabled\r\n                                />                              \r\n                        </div>\r\n                        <div className=\"form-group\"> \r\n                            <label>Bank Address: </label>                               \r\n                            <input  type=\"text\"\r\n                                className=\"form-control\"\r\n                                value={this.state.trainee_bank_branch}\r\n                                disabled\r\n                                />                                \r\n                        </div>\r\n                        </div>\r\n                    : \"\"}\r\n                    {show_non_matching_bank ?\r\n                        <div className=\"form-group\" >\r\n                            <div>Sort code not found, similar sort codes shown below:</div>\r\n                            {this.state.similar_codes.map((code, index) => (\r\n                                <div key={index}>- {code}</div>\r\n                            ))}\r\n                            <div>Please make sure the sort code you entered is correct, and then enter your bank details:</div>\r\n                            <br/>\r\n                            <label>Bank Name: </label>\r\n                            <input  type=\"text\"\r\n                                className=\"form-control\"\r\n                                value={this.state.trainee_bank_name}\r\n                                onChange={this.onChangeTraineeBankName}\r\n                                required\r\n                                />\r\n                            <br/>\r\n                            <label>Bank Address: </label>\r\n                            <input  type=\"text\"\r\n                                className=\"form-control\"\r\n                                value={this.state.trainee_bank_branch}\r\n                                onChange={this.onChangeTraineeBankBranch}\r\n                                required\r\n                                />                                \r\n                        </div>\r\n                    : \"\"}\r\n\r\n                    <br />\r\n                    <div className=\"form-group\">\r\n                        <input type=\"submit\" value=\"Update\" className=\"btn btn-primary\" />\r\n                    </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n            </div>\r\n        )\r\n    }\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}