{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\src\\\\components\\\\edit-dates.component.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport CryptoJS from \"react-native-crypto-js\";\nimport { codes } from \"../secrets/secrets.js\";\nimport AccessDenied from './modules/AccessDenied';\nimport { authService } from './modules/authService';\nimport '../css/edit-list-trainee.css';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport 'react-day-picker/lib/style.css';\nimport { formatDate } from 'react-day-picker/moment';\n\nvar EditDates =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditDates, _Component);\n\n  function EditDates(props) {\n    var _this;\n\n    _classCallCheck(this, EditDates);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditDates).call(this, props));\n\n    _this.onChangeStartDate = function (startDate) {\n      _this.setState({\n        trainee_start_date: startDate\n      });\n    };\n\n    _this.onChangeEndDate = function (endDate) {\n      _this.setState({\n        trainee_end_date: endDate\n      });\n    };\n\n    _this.onChangeTraineeFname = _this.onChangeTraineeFname.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeTraineeLname = _this.onChangeTraineeLname.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeTraineeEmail = _this.onChangeTraineeEmail.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeStartDate = _this.onChangeStartDate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeEndDate = _this.onChangeEndDate.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      trainee_fname: '',\n      trainee_lname: '',\n      trainee_email: '',\n      trainee_start_date: '',\n      trainee_end_date: '',\n      currentUser: authService.currentUserValue\n    };\n    return _this;\n  }\n\n  _createClass(EditDates, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://' + process.env.REACT_APP_AWS_IP + ':4000/trainee/' + this.props.match.params.id).then(function (response) {\n        console.log(response);\n        var trainee_fname = CryptoJS.AES.decrypt(response.data.trainee_fname, codes.trainee);\n        var trainee_lname = CryptoJS.AES.decrypt(response.data.trainee_lname, codes.trainee);\n        var trainee_email = CryptoJS.AES.decrypt(response.data.trainee_email, codes.staff, {\n          iv: codes.iv\n        });\n        var trainee_start_date = CryptoJS.AES.decrypt(response.data.trainee_start_date, codes.trainee);\n        var trainee_end_date = CryptoJS.AES.decrypt(response.data.trainee_end_date, codes.trainee);\n\n        _this2.setState({\n          trainee_fname: trainee_fname.toString(CryptoJS.enc.Utf8),\n          trainee_lname: trainee_lname.toString(CryptoJS.enc.Utf8),\n          trainee_email: trainee_email.toString(CryptoJS.enc.Utf8),\n          trainee_start_date: new Date(trainee_start_date.toString(CryptoJS.enc.Utf8)),\n          trainee_end_date: new Date(trainee_end_date.toString(CryptoJS.enc.Utf8))\n        });\n\n        console.log(_this2.state.trainee_start_date);\n        console.log(_this2.state.trainee_end_date);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"onChangeTraineeFname\",\n    value: function onChangeTraineeFname(e) {\n      this.setState({\n        trainee_fname: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeTraineeLname\",\n    value: function onChangeTraineeLname(e) {\n      this.setState({\n        trainee_lname: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeTraineeEmail\",\n    value: function onChangeTraineeEmail(e) {\n      this.setState({\n        trainee_email: e.target.value\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      var _this3 = this;\n\n      e.preventDefault();\n      var start = CryptoJS.AES.encrypt(this.state.trainee_start_date.toString(), codes.trainee);\n      var end = CryptoJS.AES.encrypt(this.state.trainee_end_date.toString(), codes.trainee);\n      var obj = {\n        trainee_start_date: start.toString(),\n        trainee_end_date: end.toString()\n      };\n      console.log(obj);\n      axios.post('http://' + process.env.REACT_APP_AWS_IP + ':4000/trainee/editDates/' + this.props.match.params.id, obj).then(function (res) {\n        console.log(res.data);\n\n        _this3.props.history.push('/');\n\n        window.location.reload();\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.currentUser.token.role === 'admin' || this.state.currentUser.token.role === 'recruiter') {\n        return React.createElement(\"div\", {\n          className: \"QATable\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 117\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          className: \"edit-form\",\n          onSubmit: this.onSubmit,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 118\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"all-edit-box\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 119\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, \"First Name: \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: this.state.trainee_fname,\n          onChange: this.onChangeTraineeFname,\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, \"Last Name: \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: this.state.trainee_lname,\n          onChange: this.onChangeTraineeLname,\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \"Email: \"), React.createElement(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          value: this.state.trainee_email,\n          onChange: this.onChangeTraineeEmail,\n          disabled: true,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          id: \"bursaryDates\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, \" Bursary Start Date : \"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }), React.createElement(DayPickerInput, {\n          value: this.state.trainee_start_date,\n          format: \"DD/MM/YYYY\",\n          formatDate: formatDate,\n          onDayChange: this.onChangeStartDate,\n          dayPickerProps: {\n            selectedDays: this.state.trainee_start_date,\n            disabledDays: {\n              daysOfWeek: [0, 6]\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          id: \"bursaryDates\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165\n          },\n          __self: this\n        }, \" Bursary End Date : \"), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 166\n          },\n          __self: this\n        }), React.createElement(DayPickerInput, {\n          value: this.state.trainee_end_date,\n          format: \"DD/MM/YYYY\",\n          formatDate: formatDate,\n          onDayChange: this.onChangeEndDate,\n          dayPickerProps: {\n            selectedDays: this.state.trainee_end_date,\n            disabledDays: {\n              daysOfWeek: [0, 6]\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        })), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"submit\",\n          value: \"Update\",\n          className: \"btn btn-primary\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        })))));\n      } else {\n        return React.createElement(AccessDenied, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return EditDates;\n}(Component);\n\nexport { EditDates as default };","map":{"version":3,"sources":["C:\\Users\\Chi Zhang\\Desktop\\QA Bursary project\\AWS-Bursary-Project-V1\\React\\src\\components\\edit-dates.component.js"],"names":["React","Component","axios","CryptoJS","codes","AccessDenied","authService","DayPickerInput","formatDate","EditDates","props","onChangeStartDate","startDate","setState","trainee_start_date","onChangeEndDate","endDate","trainee_end_date","onChangeTraineeFname","bind","onChangeTraineeLname","onChangeTraineeEmail","onSubmit","state","trainee_fname","trainee_lname","trainee_email","currentUser","currentUserValue","get","process","env","REACT_APP_AWS_IP","match","params","id","then","response","console","log","AES","decrypt","data","trainee","staff","iv","toString","enc","Utf8","Date","catch","error","e","target","value","preventDefault","start","encrypt","end","obj","post","res","history","push","window","location","reload","token","role","selectedDays","disabledDays","daysOfWeek"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport CryptoJS from \"react-native-crypto-js\";\r\nimport { codes } from \"../secrets/secrets.js\";\r\nimport AccessDenied from './modules/AccessDenied';\r\nimport { authService } from './modules/authService';\r\nimport '../css/edit-list-trainee.css';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\r\nimport 'react-day-picker/lib/style.css';\r\n\r\nimport {\r\n    formatDate,\r\n  } from 'react-day-picker/moment';\r\n\r\nexport default class EditDates extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.onChangeTraineeFname = this.onChangeTraineeFname.bind(this);\r\n        this.onChangeTraineeLname = this.onChangeTraineeLname.bind(this);\r\n        this.onChangeTraineeEmail = this.onChangeTraineeEmail.bind(this);\r\n        this.onChangeStartDate = this.onChangeStartDate.bind(this);\r\n        this.onChangeEndDate = this.onChangeEndDate.bind(this);\r\n\t\t\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            trainee_fname: '',\r\n            trainee_lname: '',\r\n            trainee_email: '',\r\n            trainee_start_date: '',\r\n            trainee_end_date: '',\r\n\t\t\tcurrentUser: authService.currentUserValue\r\n        }\r\n    }\r\n    \r\n    componentDidMount() {\r\n        axios.get('http://'+process.env.REACT_APP_AWS_IP+':4000/trainee/'+this.props.match.params.id)\r\n            .then(response => {\r\n                console.log(response);\r\n                var trainee_fname  = CryptoJS.AES.decrypt(response.data.trainee_fname, codes.trainee);\r\n                var trainee_lname  = CryptoJS.AES.decrypt(response.data.trainee_lname, codes.trainee);\r\n                var trainee_email  = CryptoJS.AES.decrypt(response.data.trainee_email, codes.staff, {iv:codes.iv});\r\n                var trainee_start_date = CryptoJS.AES.decrypt(response.data.trainee_start_date, codes.trainee);\r\n                var trainee_end_date = CryptoJS.AES.decrypt(response.data.trainee_end_date, codes.trainee);\r\n                \r\n                \r\n                this.setState({\r\n                    trainee_fname: trainee_fname.toString(CryptoJS.enc.Utf8),\r\n                    trainee_lname: trainee_lname.toString(CryptoJS.enc.Utf8),\r\n                    trainee_email: trainee_email.toString(CryptoJS.enc.Utf8),\r\n                    trainee_start_date: new Date (trainee_start_date.toString(CryptoJS.enc.Utf8)),\r\n                    trainee_end_date: new Date (trainee_end_date.toString(CryptoJS.enc.Utf8))\r\n                })\r\n                console.log(this.state.trainee_start_date);\r\n                console.log(this.state.trainee_end_date);   \r\n            })\r\n            .catch(function (error) {\r\n                console.log(error);\r\n            })\r\n    }\r\n    \r\n    onChangeTraineeFname(e) {\r\n        this.setState({\r\n            trainee_fname: e.target.value\r\n        });\r\n    }\r\n    \r\n    onChangeTraineeLname(e) {\r\n        this.setState({\r\n            trainee_lname: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeTraineeEmail(e) {\r\n        this.setState({\r\n            trainee_email: e.target.value\r\n        });\r\n    }\r\n    \r\n    onChangeStartDate = (startDate) =>{\r\n        this.setState({\r\n            trainee_start_date: startDate\r\n        })\r\n    }\r\n\r\n    onChangeEndDate = (endDate) =>{\r\n        this.setState({\r\n            trainee_end_date: endDate\r\n        })\r\n    }\r\n    \r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        var start = CryptoJS.AES.encrypt(this.state.trainee_start_date.toString(), codes.trainee);\r\n        var end = CryptoJS.AES.encrypt(this.state.trainee_end_date.toString(), codes.trainee);\r\n\r\n        const obj = {\r\n            trainee_start_date: start.toString(),\r\n            trainee_end_date: end.toString(),\r\n        };\r\n        console.log(obj);\r\n        axios.post('http://'+process.env.REACT_APP_AWS_IP+':4000/trainee/editDates/'+this.props.match.params.id, obj)\r\n            .then(res => {console.log(res.data);\r\n                          this.props.history.push('/');\r\n                          window.location.reload();});\r\n        \r\n    }\r\n\r\n\r\n    render() {\r\n\t\tif(this.state.currentUser.token.role === 'admin' || this.state.currentUser.token.role === 'recruiter'){\r\n        return (\r\n            <div className=\"QATable\">\r\n                <form className=\"edit-form\" onSubmit={this.onSubmit}>\r\n                    <div className=\"all-edit-box\">\r\n\t\t\t\t\t<div className=\"form-group\"> \r\n                        <label>First Name: </label>\r\n                        <input  type=\"text\"\r\n                                className=\"form-control\"\r\n                                value={this.state.trainee_fname}\r\n                                onChange={this.onChangeTraineeFname}\r\n                                disabled\r\n                                />\r\n                    </div>\r\n                     <div className=\"form-group\"> \r\n                        <label>Last Name: </label>\r\n                        <input  type=\"text\"\r\n                                className=\"form-control\"\r\n                                value={this.state.trainee_lname}\r\n                                onChange={this.onChangeTraineeLname}\r\n                                disabled\r\n                                />\r\n                    </div>           \r\n                    <div className=\"form-group\">\r\n                        <label>Email: </label>\r\n                        <input \r\n                                type=\"text\" \r\n                                className=\"form-control\"\r\n                                value={this.state.trainee_email}\r\n                                onChange={this.onChangeTraineeEmail}\r\n                                disabled\r\n                                />\r\n                    </div>\r\n                    <div id=\"bursaryDates\">\r\n                    <label> Bursary Start Date : </label>\r\n                    <br></br>\r\n                        <DayPickerInput\r\n                            value={this.state.trainee_start_date}\r\n                            format=\"DD/MM/YYYY\"\r\n                            formatDate={formatDate}\r\n                            onDayChange={this.onChangeStartDate}\r\n                            dayPickerProps={{\r\n                                selectedDays: this.state.trainee_start_date,\r\n                                disabledDays: {\r\n                                daysOfWeek: [0, 6],\r\n                                },\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    <div id=\"bursaryDates\">\r\n                        <label> Bursary End Date : </label>\r\n                        <br></br>\r\n                            <DayPickerInput\r\n                                value={this.state.trainee_end_date}\r\n                                format=\"DD/MM/YYYY\"\r\n                                formatDate={formatDate}\r\n                                onDayChange={this.onChangeEndDate}\r\n                                dayPickerProps={{\r\n                                    selectedDays: this.state.trainee_end_date,\r\n                                    disabledDays: {\r\n                                    daysOfWeek: [0, 6],\r\n                                    },\r\n                                }}\r\n                            />\r\n                    </div>\r\n                    <br />\r\n                    <div className=\"form-group\">\r\n                        <input type=\"submit\" value=\"Update\" className=\"btn btn-primary\" />\r\n                    </div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n            </div>\r\n        )\r\n    }\r\n    else {\r\n        return (\r\n        <AccessDenied/>\r\n    );\r\n    }\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}