{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"C:\\\\Users\\\\Chi Zhang\\\\Desktop\\\\QA Bursary project\\\\AWS-Bursary-Project-V1\\\\React\\\\src\\\\components\\\\list-trainee.component.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport CryptoJS from \"react-native-crypto-js\";\nimport { codes } from \"../secrets/secrets.js\";\nimport AccessDenied from './modules/AccessDenied';\nimport { authService } from './modules/authService';\nimport '../css/list-trainee-recruiter.css';\n\nvar ListTrainee =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ListTrainee, _Component);\n\n  function ListTrainee(props) {\n    var _this;\n\n    _classCallCheck(this, ListTrainee);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ListTrainee).call(this, props));\n    _this.state = {\n      trainees: [],\n      searchString: \"\",\n      currentUser: authService.currentUserValue,\n      recruiterEmail: '',\n      filter: ''\n    }; //Added onChangeSearch - Ernie\n\n    _this.onChangeSearch = _this.onChangeSearch.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.onChangeFilter = _this.onChangeFilter.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ListTrainee, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      axios.get('http://' + process.env.REACT_APP_AWS_IP + ':4000/trainee/').then(function (response) {\n        var encrypted = response.data;\n        encrypted.map(function (currentTrainee, i) {\n          var bytes = CryptoJS.AES.decrypt(currentTrainee.trainee_email, codes.staff, {\n            iv: codes.iv\n          });\n          currentTrainee.trainee_email = bytes.toString(CryptoJS.enc.Utf8);\n          bytes = CryptoJS.AES.decrypt(currentTrainee.trainee_fname, codes.trainee);\n          currentTrainee.trainee_fname = bytes.toString(CryptoJS.enc.Utf8);\n          bytes = CryptoJS.AES.decrypt(currentTrainee.trainee_lname, codes.trainee);\n          currentTrainee.trainee_lname = bytes.toString(CryptoJS.enc.Utf8);\n          bytes = CryptoJS.AES.decrypt(currentTrainee.status, codes.trainee);\n          currentTrainee.status = bytes.toString(CryptoJS.enc.Utf8);\n          bytes = CryptoJS.AES.decrypt(currentTrainee.added_By, codes.trainee);\n          currentTrainee.added_By = bytes.toString(CryptoJS.enc.Utf8);\n          bytes = CryptoJS.AES.decrypt(currentTrainee.bursary, codes.trainee);\n          currentTrainee.bursary = bytes.toString(CryptoJS.enc.Utf8);\n        });\n\n        _this2.setState({\n          trainees: encrypted\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n      axios.get('http://' + process.env.REACT_APP_AWS_IP + ':4000/admin/staff/' + this.state.currentUser.token._id).then(function (response) {\n        if (response.data == null) {\n          authService.logout();\n\n          if (!authService.currentUserValue) {\n            document.location.href = 'http://' + process.env.REACT_APP_AWS_IP + ':3000/login';\n          }\n        } else {\n          var email = CryptoJS.AES.decrypt(response.data.email, codes.staff, {\n            iv: codes.iv\n          }).toString(CryptoJS.enc.Utf8);\n\n          _this2.setState({\n            recruiterEmail: email\n          });\n        }\n      });\n    } // Added onChangeSearch(e) function. Needed for the search filter\n\n  }, {\n    key: \"onChangeSearch\",\n    value: function onChangeSearch(e) {\n      this.setState({\n        searchString: e.target.value\n      });\n    }\n  }, {\n    key: \"onChangeFilter\",\n    value: function onChangeFilter(e) {\n      this.setState({\n        filter: e.target.value\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      //Declared variables in order to read input from search function\n      var trainees = this.state.trainees;\n      var search = this.state.searchString.trim().toLowerCase().replace(/\\s+/g, '');\n      var filter = this.state.filter;\n      var email = this.state.recruiterEmail;\n\n      if (search.length > 0) {\n        trainees = trainees.filter(function (i) {\n          if (i.trainee_fname.toLowerCase().match(search) || i.status.toLowerCase().match(search) || i.added_By.toLowerCase().match(search) || i.bursary.toLowerCase().match(search) || i.trainee_lname.toLowerCase().match(search) || i.trainee_email.toLowerCase().match(search) || (i.trainee_fname.toLowerCase() + i.trainee_lname.toLowerCase() + i.trainee_email.toLowerCase()).match(search)) {\n            return i;\n          }\n        });\n      } else if (filter != '') {\n        if (filter === 'MyTrainees') {\n          trainees = trainees.filter(function (i) {\n            if (i.added_By === email) {\n              console.log('matches');\n              return i;\n            }\n          });\n        }\n      }\n\n      if (this.state.currentUser.token.role === undefined) {\n        return React.createElement(AccessDenied, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115\n          },\n          __self: this\n        });\n      } else if (this.state.currentUser.token.role === 'recruiter') {\n        return React.createElement(\"div\", {\n          className: \"bigBox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 120\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"QAtable\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"QASearchBar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          value: this.state.searchString,\n          onChange: this.onChangeSearch,\n          placeholder: \"Find trainee...\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }), React.createElement(\"select\", {\n          className: \"filter\",\n          onChange: this.onChangeFilter,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, \"Select a filter\"), React.createElement(\"option\", {\n          value: \"MyTrainees\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 131\n          },\n          __self: this\n        }, \"My Trainees\")), React.createElement(\"div\", {\n          id: \"addUser\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 133\n          },\n          __self: this\n        }, React.createElement(\"button\", {\n          className: \"qabtn\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, React.createElement(Link, {\n          className: \"link\",\n          to: \"/create\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 134\n          },\n          __self: this\n        }, \"Add Trainee\")))), React.createElement(\"table\", {\n          className: \"table table-striped\",\n          style: {\n            marginTop: 20\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, \"First Name\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }, \"Last Name\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, \"Email\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144\n          },\n          __self: this\n        }, \"Status\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }, \"Recruited By\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, \"Bursary\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, \"Action\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, trainees.map(function (t) {\n          return React.createElement(\"tr\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 153\n            },\n            __self: this\n          }, React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 154\n            },\n            __self: this\n          }, \" \", t.trainee_fname), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 155\n            },\n            __self: this\n          }, \" \", t.trainee_lname), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 156\n            },\n            __self: this\n          }, \" \", t.trainee_email), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 157\n            },\n            __self: this\n          }, \" \", t.status), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 158\n            },\n            __self: this\n          }, \" \", t.added_By), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 159\n            },\n            __self: this\n          }, \" \", t.bursary), React.createElement(\"td\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 160\n            },\n            __self: this\n          }, \" \", React.createElement(\"button\", {\n            onClick: function onClick() {\n              return window.location.href = \"/editDates/\" + t._id;\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 160\n            },\n            __self: this\n          }, \" Edit \"), React.createElement(\"button\", {\n            onClick: function onClick() {\n              return axios.get('http://' + process.env.REACT_APP_AWS_IP + ':4000/trainee/delete/' + t._id).then(function (response) {\n                return window.location.reload();\n              });\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 161\n            },\n            __self: this\n          }, \"Delete\")));\n        })))));\n      } else {\n        return React.createElement(\"div\", {\n          className: \"bigBox\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"QAtable\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"QASearchBar\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          type: \"text\",\n          value: this.state.searchString,\n          onChange: this.onChangeSearch,\n          placeholder: \"Find trainee...\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178\n          },\n          __self: this\n        })), React.createElement(\"table\", {\n          className: \"table table-striped\",\n          style: {\n            marginTop: 20\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 186\n          },\n          __self: this\n        }, React.createElement(\"thead\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }, React.createElement(\"tr\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, \"First Name\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, \"Last Name\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, \"Email\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 192\n          },\n          __self: this\n        }, \"Status\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 193\n          },\n          __self: this\n        }, \"Recruited By\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194\n          },\n          __self: this\n        }, \"Bursary\"), React.createElement(\"th\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 195\n          },\n          __self: this\n        }, \"Action\"))), React.createElement(\"tbody\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, trainees.map(function (t) {\n          if (_this3.state.currentUser.token.role === 'admin') {\n            return React.createElement(\"tr\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 202\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 203\n              },\n              __self: this\n            }, \" \", t.trainee_fname), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 204\n              },\n              __self: this\n            }, \" \", t.trainee_lname), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 205\n              },\n              __self: this\n            }, \" \", t.trainee_email), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 206\n              },\n              __self: this\n            }, \" \", t.status), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 207\n              },\n              __self: this\n            }, \" \", t.added_By), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 208\n              },\n              __self: this\n            }, \" \", t.bursary), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 209\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 210\n              },\n              __self: this\n            }, React.createElement(\"button\", {\n              onClick: function onClick() {\n                return window.location.href = \"/editDates/\" + t._id;\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 211\n              },\n              __self: this\n            }, \" Edit \"), \" \"), React.createElement(\"button\", {\n              onClick: function onClick() {\n                return axios.get('http://' + process.env.REACT_APP_AWS_IP + ':4000/trainee/delete/' + t._id).then(function (response) {\n                  return window.location.reload();\n                });\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 212\n              },\n              __self: this\n            }, \"Delete\")));\n          } else if (_this3.state.currentUser.token.role === 'finance') {\n            return React.createElement(\"tr\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 219\n              },\n              __self: this\n            }, React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 220\n              },\n              __self: this\n            }, \" \", t.trainee_fname), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 221\n              },\n              __self: this\n            }, \" \", t.trainee_lname), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 222\n              },\n              __self: this\n            }, \" \", t.trainee_email), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 223\n              },\n              __self: this\n            }, \" \", t.status), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 224\n              },\n              __self: this\n            }, \" \", t.added_By), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 225\n              },\n              __self: this\n            }, \" \", t.bursary), React.createElement(\"td\", {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 226\n              },\n              __self: this\n            }, React.createElement(\"button\", {\n              onClick: function onClick() {\n                return window.location.href = \"/trainee-details/\" + t._id;\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 227\n              },\n              __self: this\n            }, \" View Details \")));\n          }\n        })))));\n      }\n    }\n  }]);\n\n  return ListTrainee;\n}(Component);\n\nexport { ListTrainee as default };","map":{"version":3,"sources":["C:\\Users\\Chi Zhang\\Desktop\\QA Bursary project\\AWS-Bursary-Project-V1\\React\\src\\components\\list-trainee.component.js"],"names":["React","Component","Link","axios","CryptoJS","codes","AccessDenied","authService","ListTrainee","props","state","trainees","searchString","currentUser","currentUserValue","recruiterEmail","filter","onChangeSearch","bind","onChangeFilter","get","process","env","REACT_APP_AWS_IP","then","response","encrypted","data","map","currentTrainee","i","bytes","AES","decrypt","trainee_email","staff","iv","toString","enc","Utf8","trainee_fname","trainee","trainee_lname","status","added_By","bursary","setState","catch","error","console","log","token","_id","logout","document","location","href","email","e","target","value","search","trim","toLowerCase","replace","length","match","role","undefined","marginTop","t","window","reload"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,SAASC,KAAT,QAAsB,uBAAtB;AACA,OAAOC,YAAP,MAAyB,wBAAzB;AACA,SAASC,WAAT,QAA4B,uBAA5B;AACA,OAAO,mCAAP;;IAEqBC,W;;;;;AAEjB,uBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,qFAAMA,KAAN;AAEA,UAAKC,KAAL,GAAa;AAClBC,MAAAA,QAAQ,EAAE,EADQ;AAElBC,MAAAA,YAAY,EAAE,EAFI;AAGTC,MAAAA,WAAW,EAAEN,WAAW,CAACO,gBAHhB;AAITC,MAAAA,cAAc,EAAE,EAJP;AAKTC,MAAAA,MAAM,EAAE;AALC,KAAb,CAHe,CAWhB;;AACC,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,uDAAtB;AACA,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBD,IAApB,uDAAtB;AAbe;AAclB;;;;wCAEmB;AAAA;;AAChBf,MAAAA,KAAK,CAACiB,GAAN,CAAU,YAAUC,OAAO,CAACC,GAAR,CAAYC,gBAAtB,GAAuC,gBAAjD,EACKC,IADL,CACU,UAAAC,QAAQ,EAAI;AACd,YAAIC,SAAS,GAAGD,QAAQ,CAACE,IAAzB;AACAD,QAAAA,SAAS,CAACE,GAAV,CAAc,UAASC,cAAT,EAAyBC,CAAzB,EAA2B;AACrC,cAAIC,KAAK,GAAI3B,QAAQ,CAAC4B,GAAT,CAAaC,OAAb,CAAqBJ,cAAc,CAACK,aAApC,EAAmD7B,KAAK,CAAC8B,KAAzD,EAAgE;AAACC,YAAAA,EAAE,EAAE/B,KAAK,CAAC+B;AAAX,WAAhE,CAAb;AACAP,UAAAA,cAAc,CAACK,aAAf,GAA+BH,KAAK,CAACM,QAAN,CAAejC,QAAQ,CAACkC,GAAT,CAAaC,IAA5B,CAA/B;AACAR,UAAAA,KAAK,GAAG3B,QAAQ,CAAC4B,GAAT,CAAaC,OAAb,CAAqBJ,cAAc,CAACW,aAApC,EAAmDnC,KAAK,CAACoC,OAAzD,CAAR;AACAZ,UAAAA,cAAc,CAACW,aAAf,GAA+BT,KAAK,CAACM,QAAN,CAAejC,QAAQ,CAACkC,GAAT,CAAaC,IAA5B,CAA/B;AACAR,UAAAA,KAAK,GAAG3B,QAAQ,CAAC4B,GAAT,CAAaC,OAAb,CAAqBJ,cAAc,CAACa,aAApC,EAAmDrC,KAAK,CAACoC,OAAzD,CAAR;AACAZ,UAAAA,cAAc,CAACa,aAAf,GAA+BX,KAAK,CAACM,QAAN,CAAejC,QAAQ,CAACkC,GAAT,CAAaC,IAA5B,CAA/B;AACAR,UAAAA,KAAK,GAAG3B,QAAQ,CAAC4B,GAAT,CAAaC,OAAb,CAAqBJ,cAAc,CAACc,MAApC,EAA4CtC,KAAK,CAACoC,OAAlD,CAAR;AACAZ,UAAAA,cAAc,CAACc,MAAf,GAAwBZ,KAAK,CAACM,QAAN,CAAejC,QAAQ,CAACkC,GAAT,CAAaC,IAA5B,CAAxB;AACAR,UAAAA,KAAK,GAAG3B,QAAQ,CAAC4B,GAAT,CAAaC,OAAb,CAAqBJ,cAAc,CAACe,QAApC,EAA8CvC,KAAK,CAACoC,OAApD,CAAR;AACAZ,UAAAA,cAAc,CAACe,QAAf,GAA0Bb,KAAK,CAACM,QAAN,CAAejC,QAAQ,CAACkC,GAAT,CAAaC,IAA5B,CAA1B;AACAR,UAAAA,KAAK,GAAG3B,QAAQ,CAAC4B,GAAT,CAAaC,OAAb,CAAqBJ,cAAc,CAACgB,OAApC,EAA6CxC,KAAK,CAACoC,OAAnD,CAAR;AACAZ,UAAAA,cAAc,CAACgB,OAAf,GAAyBd,KAAK,CAACM,QAAN,CAAejC,QAAQ,CAACkC,GAAT,CAAaC,IAA5B,CAAzB;AACH,SAbD;;AAcA,QAAA,MAAI,CAACO,QAAL,CAAc;AAACnC,UAAAA,QAAQ,EAAEe;AAAX,SAAd;AACH,OAlBL,EAmBKqB,KAnBL,CAmBW,UAAUC,KAAV,EAAgB;AACnBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OArBL;AAuBI7C,MAAAA,KAAK,CAACiB,GAAN,CAAU,YAAYC,OAAO,CAACC,GAAR,CAAYC,gBAAxB,GAA2C,oBAA3C,GAAkE,KAAKb,KAAL,CAAWG,WAAX,CAAuBsC,KAAvB,CAA6BC,GAAzG,EACC5B,IADD,CACM,UAAAC,QAAQ,EAAI;AAChB,YAAGA,QAAQ,CAACE,IAAT,IAAiB,IAApB,EAAyB;AACvBpB,UAAAA,WAAW,CAAC8C,MAAZ;;AACA,cAAI,CAAC9C,WAAW,CAACO,gBAAjB,EAAmC;AACjCwC,YAAAA,QAAQ,CAACC,QAAT,CAAkBC,IAAlB,GAAyB,YAAYnC,OAAO,CAACC,GAAR,CAAYC,gBAAxB,GAA2C,aAApE;AACD;AACF,SALD,MAMI;AACF,cAAIkC,KAAK,GAAGrD,QAAQ,CAAC4B,GAAT,CAAaC,OAAb,CAAqBR,QAAQ,CAACE,IAAT,CAAc8B,KAAnC,EAA0CpD,KAAK,CAAC8B,KAAhD,EAAuD;AAAEC,YAAAA,EAAE,EAAE/B,KAAK,CAAC+B;AAAZ,WAAvD,EAAyEC,QAAzE,CAAkFjC,QAAQ,CAACkC,GAAT,CAAaC,IAA/F,CAAZ;;AAEA,UAAA,MAAI,CAACO,QAAL,CAAc;AACZ/B,YAAAA,cAAc,EAAE0C;AADJ,WAAd;AAGD;AACF,OAfD;AAgBP,K,CAED;;;;mCACeC,C,EAAG;AACd,WAAKZ,QAAL,CAAc;AACVlC,QAAAA,YAAY,EAAE8C,CAAC,CAACC,MAAF,CAASC;AADb,OAAd;AAGH;;;mCAEcF,C,EAAE;AACb,WAAKZ,QAAL,CAAc;AACV9B,QAAAA,MAAM,EAAE0C,CAAC,CAACC,MAAF,CAASC;AADP,OAAd;AAGH;;;6BAEQ;AAAA;;AACL;AACA,UAAIjD,QAAQ,GAAG,KAAKD,KAAL,CAAWC,QAA1B;AACA,UAAIkD,MAAM,GAAG,KAAKnD,KAAL,CAAWE,YAAX,CAAwBkD,IAAxB,GAA+BC,WAA/B,GAA6CC,OAA7C,CAAqD,MAArD,EAA6D,EAA7D,CAAb;AACA,UAAIhD,MAAM,GAAG,KAAKN,KAAL,CAAWM,MAAxB;AACA,UAAIyC,KAAK,GAAG,KAAK/C,KAAL,CAAWK,cAAvB;;AAEA,UAAG8C,MAAM,CAACI,MAAP,GAAgB,CAAnB,EAAqB;AACjBtD,QAAAA,QAAQ,GAAGA,QAAQ,CAACK,MAAT,CAAgB,UAASc,CAAT,EAAW;AAClC,cAAGA,CAAC,CAACU,aAAF,CAAgBuB,WAAhB,GAA8BG,KAA9B,CAAoCL,MAApC,KACA/B,CAAC,CAACa,MAAF,CAASoB,WAAT,GAAuBG,KAAvB,CAA6BL,MAA7B,CADA,IAEA/B,CAAC,CAACc,QAAF,CAAWmB,WAAX,GAAyBG,KAAzB,CAA+BL,MAA/B,CAFA,IAGA/B,CAAC,CAACe,OAAF,CAAUkB,WAAV,GAAwBG,KAAxB,CAA8BL,MAA9B,CAHA,IAIA/B,CAAC,CAACY,aAAF,CAAgBqB,WAAhB,GAA8BG,KAA9B,CAAoCL,MAApC,CAJA,IAKA/B,CAAC,CAACI,aAAF,CAAgB6B,WAAhB,GAA8BG,KAA9B,CAAoCL,MAApC,CALA,IAMA,CAAC/B,CAAC,CAACU,aAAF,CAAgBuB,WAAhB,KAAgCjC,CAAC,CAACY,aAAF,CAAgBqB,WAAhB,EAAhC,GAAgEjC,CAAC,CAACI,aAAF,CAAgB6B,WAAhB,EAAjE,EAAgGG,KAAhG,CAAsGL,MAAtG,CANH,EAMiH;AAC7G,mBAAO/B,CAAP;AACH;AACJ,SAVU,CAAX;AAWH,OAZD,MAYM,IAAGd,MAAM,IAAI,EAAb,EAAgB;AAClB,YAAGA,MAAM,KAAK,YAAd,EAA2B;AACnBL,UAAAA,QAAQ,GAAGA,QAAQ,CAACK,MAAT,CAAgB,UAASc,CAAT,EAAW;AAClC,gBAAGA,CAAC,CAACc,QAAF,KAAea,KAAlB,EAAwB;AACpBR,cAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,qBAAOpB,CAAP;AACH;AACJ,WALU,CAAX;AAMP;AACJ;;AAEP,UAAI,KAAKpB,KAAL,CAAWG,WAAX,CAAuBsC,KAAvB,CAA6BgB,IAA7B,KAAsCC,SAA1C,EAAoD;AACnD,eACA,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADA;AAGA,OAJD,MAKK,IAAG,KAAK1D,KAAL,CAAWG,WAAX,CAAuBsC,KAAvB,CAA6BgB,IAA7B,KAAsC,WAAzC,EAAqD;AACzD,eACS;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AACI,UAAA,IAAI,EAAC,MADT;AAEI,UAAA,KAAK,EAAE,KAAKzD,KAAL,CAAWE,YAFtB;AAGI,UAAA,QAAQ,EAAE,KAAKK,cAHnB;AAII,UAAA,WAAW,EAAC,iBAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAOI;AAAQ,UAAA,SAAS,EAAC,QAAlB;AAA2B,UAAA,QAAQ,EAAE,KAAKE,cAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADJ,EAEI;AAAQ,UAAA,KAAK,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAFJ,CAPJ,EAWI;AAAK,UAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAQ,UAAA,SAAS,EAAC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA0B,oBAAC,IAAD;AAAM,UAAA,SAAS,EAAC,MAAhB;AAAuB,UAAA,EAAE,EAAE,SAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAA1B,CADJ,CAXJ,CADJ,EAiBI;AAAO,UAAA,SAAS,EAAC,qBAAjB;AAAuC,UAAA,KAAK,EAAE;AAAEkD,YAAAA,SAAS,EAAE;AAAb,WAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBANJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPJ,CADJ,CADJ,EAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACK1D,QAAQ,CAACiB,GAAT,CAAa,UAAA0C,CAAC,EAAI;AACf,iBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAMA,CAAC,CAAC9B,aAAR,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAM8B,CAAC,CAAC5B,aAAR,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAM4B,CAAC,CAACpC,aAAR,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAMoC,CAAC,CAAC3B,MAAR,CAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAM2B,CAAC,CAAC1B,QAAR,CALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAM0B,CAAC,CAACzB,OAAR,CANJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAK;AAAQ,YAAA,OAAO,EAAE;AAAA,qBAAM0B,MAAM,CAAChB,QAAP,CAAgBC,IAAhB,GAAqB,gBAAcc,CAAC,CAAClB,GAA3C;AAAA,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAL,EACA;AAAQ,YAAA,OAAO,EAAE;AAAA,qBAAIjD,KAAK,CAACiB,GAAN,CAAU,YAAUC,OAAO,CAACC,GAAR,CAAYC,gBAAtB,GAAuC,uBAAvC,GAA+D+C,CAAC,CAAClB,GAA3E,EAAgF5B,IAAhF,CAAqF,UAACC,QAAD;AAAA,uBAAc8C,MAAM,CAAChB,QAAP,CAAgBiB,MAAhB,EAAd;AAAA,eAArF,CAAJ;AAAA,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,CAPJ,CADJ;AAaH,SAdA,CADL,CAZJ,CAjBJ,CADA,CADT;AAsDA,OAvDI,MAuDA;AACC,eACI;AAAK,UAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AACI,UAAA,IAAI,EAAC,MADT;AAEI,UAAA,KAAK,EAAE,KAAK9D,KAAL,CAAWE,YAFtB;AAGI,UAAA,QAAQ,EAAE,KAAKK,cAHnB;AAII,UAAA,WAAW,EAAC,iBAJhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,CADJ,EAUI;AAAO,UAAA,SAAS,EAAC,qBAAjB;AAAuC,UAAA,KAAK,EAAE;AAAEoD,YAAAA,SAAS,EAAE;AAAb,WAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBANJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAPJ,CADJ,CADJ,EAYI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACK1D,QAAQ,CAACiB,GAAT,CAAa,UAAA0C,CAAC,EAAI;AACpC,cAAI,MAAI,CAAC5D,KAAL,CAAWG,WAAX,CAAuBsC,KAAvB,CAA6BgB,IAA7B,KAAsC,OAA1C,EAAkD;AAC7B,mBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAMG,CAAC,CAAC9B,aAAR,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAM8B,CAAC,CAAC5B,aAAR,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAM4B,CAAC,CAACpC,aAAR,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAMoC,CAAC,CAAC3B,MAAR,CAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAM2B,CAAC,CAAC1B,QAAR,CALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAM0B,CAAC,CAACzB,OAAR,CANJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACI;AAAQ,cAAA,OAAO,EAAE;AAAA,uBAAM0B,MAAM,CAAChB,QAAP,CAAgBC,IAAhB,GAAqB,gBAAcc,CAAC,CAAClB,GAA3C;AAAA,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,MADA,EAGI;AAAQ,cAAA,OAAO,EAAE;AAAA,uBAAIjD,KAAK,CAACiB,GAAN,CAAU,YAAUC,OAAO,CAACC,GAAR,CAAYC,gBAAtB,GAAuC,uBAAvC,GAA+D+C,CAAC,CAAClB,GAA3E,EAAgF5B,IAAhF,CAAqF,UAACC,QAAD;AAAA,yBAAc8C,MAAM,CAAChB,QAAP,CAAgBiB,MAAhB,EAAd;AAAA,iBAArF,CAAJ;AAAA,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,CAPJ,CADJ;AAepB,WAhBD,MAiBK,IAAG,MAAI,CAAC9D,KAAL,CAAWG,WAAX,CAAuBsC,KAAvB,CAA6BgB,IAA7B,KAAsC,SAAzC,EAAmD;AACxD,mBACyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAMG,CAAC,CAAC9B,aAAR,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAM8B,CAAC,CAAC5B,aAAR,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAM4B,CAAC,CAACpC,aAAR,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAMoC,CAAC,CAAC3B,MAAR,CAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAM2B,CAAC,CAAC1B,QAAR,CALJ,EAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAM0B,CAAC,CAACzB,OAAR,CANJ,EAOI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAC1B;AAAQ,cAAA,OAAO,EAAE;AAAA,uBAAI0B,MAAM,CAAChB,QAAP,CAAgBC,IAAhB,GAAqB,sBAAoBc,CAAC,CAAClB,GAA/C;AAAA,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAD0B,CAPJ,CADzB;AAaC;AACiB,SAjCA,CADL,CAZJ,CAVJ,CADA,CADJ;AAiEL;AACD;;;;EAtOuCnD,S;;SAApBO,W","sourcesContent":["import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport CryptoJS from \"react-native-crypto-js\";\r\nimport { codes } from \"../secrets/secrets.js\";\r\nimport AccessDenied from './modules/AccessDenied';\r\nimport { authService } from './modules/authService';\r\nimport '../css/list-trainee-recruiter.css';\r\n\r\nexport default class ListTrainee extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n\t\t\t\r\n        this.state = {\r\n\t\t\ttrainees: [], \r\n\t\t\tsearchString: \"\",\r\n            currentUser: authService.currentUserValue,\r\n            recruiterEmail: '',\r\n            filter: ''\r\n\t\t\t};\r\n        \r\n       //Added onChangeSearch - Ernie\r\n        this.onChangeSearch = this.onChangeSearch.bind(this);\r\n        this.onChangeFilter = this.onChangeFilter.bind(this);\r\n    }\r\n    \r\n    componentDidMount() {\r\n        axios.get('http://'+process.env.REACT_APP_AWS_IP+':4000/trainee/')\r\n            .then(response => {\r\n                var encrypted = response.data;\r\n                encrypted.map(function(currentTrainee, i){\r\n                    var bytes  = CryptoJS.AES.decrypt(currentTrainee.trainee_email, codes.staff, {iv: codes.iv});\r\n                    currentTrainee.trainee_email = bytes.toString(CryptoJS.enc.Utf8);\r\n                    bytes = CryptoJS.AES.decrypt(currentTrainee.trainee_fname, codes.trainee);\r\n                    currentTrainee.trainee_fname = bytes.toString(CryptoJS.enc.Utf8);\r\n                    bytes = CryptoJS.AES.decrypt(currentTrainee.trainee_lname, codes.trainee);\r\n                    currentTrainee.trainee_lname = bytes.toString(CryptoJS.enc.Utf8);\r\n                    bytes = CryptoJS.AES.decrypt(currentTrainee.status, codes.trainee);\r\n                    currentTrainee.status = bytes.toString(CryptoJS.enc.Utf8);\r\n                    bytes = CryptoJS.AES.decrypt(currentTrainee.added_By, codes.trainee);\r\n                    currentTrainee.added_By = bytes.toString(CryptoJS.enc.Utf8);\r\n                    bytes = CryptoJS.AES.decrypt(currentTrainee.bursary, codes.trainee);\r\n                    currentTrainee.bursary = bytes.toString(CryptoJS.enc.Utf8);\r\n                });\r\n                this.setState({trainees: encrypted});\r\n            })\r\n            .catch(function (error){\r\n                console.log(error);\r\n            })\r\n\r\n            axios.get('http://' + process.env.REACT_APP_AWS_IP + ':4000/admin/staff/' + this.state.currentUser.token._id)\r\n            .then(response => {\r\n              if(response.data == null){\r\n                authService.logout();\r\n                if (!authService.currentUserValue) {\r\n                  document.location.href = 'http://' + process.env.REACT_APP_AWS_IP + ':3000/login';\r\n                }\r\n              }\r\n              else{\r\n                var email = CryptoJS.AES.decrypt(response.data.email, codes.staff, { iv: codes.iv }).toString(CryptoJS.enc.Utf8);\r\n    \r\n                this.setState({\r\n                  recruiterEmail: email\r\n                })\r\n              }\r\n            });\r\n    }\r\n\r\n    // Added onChangeSearch(e) function. Needed for the search filter\r\n    onChangeSearch(e) {\r\n        this.setState({\r\n            searchString: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeFilter(e){\r\n        this.setState({\r\n            filter: e.target.value\r\n        })\r\n    }\r\n\t\r\n    render() {\r\n        //Declared variables in order to read input from search function\r\n        let trainees = this.state.trainees;\r\n        let search = this.state.searchString.trim().toLowerCase().replace(/\\s+/g, '');\r\n        let filter = this.state.filter;\r\n        let email = this.state.recruiterEmail;\r\n        \r\n        if(search.length > 0){\r\n            trainees = trainees.filter(function(i){\r\n                if(i.trainee_fname.toLowerCase().match(search) ||\r\n                   i.status.toLowerCase().match(search)        ||\r\n                   i.added_By.toLowerCase().match(search)      ||\r\n                   i.bursary.toLowerCase().match(search)       ||\r\n                   i.trainee_lname.toLowerCase().match(search) ||\r\n                   i.trainee_email.toLowerCase().match(search) ||\r\n                   (i.trainee_fname.toLowerCase() + i.trainee_lname.toLowerCase() + i.trainee_email.toLowerCase()).match(search)){\r\n                    return i;\r\n                }\r\n            })\r\n        }else if(filter != ''){\r\n            if(filter === 'MyTrainees'){\r\n                    trainees = trainees.filter(function(i){\r\n                        if(i.added_By === email){\r\n                            console.log('matches');\r\n                            return i;\r\n                        }\r\n                    })\r\n            }\r\n        }\r\n\r\n\t\tif (this.state.currentUser.token.role === undefined){\r\n\t\t\treturn (\r\n\t\t\t<AccessDenied/>\r\n\t\t\t)\r\n\t\t}\r\n\t\telse if(this.state.currentUser.token.role === 'recruiter'){\r\n\t\t\treturn (\r\n            <div className=\"bigBox\">\r\n            <div className=\"QAtable\">\r\n                <div className=\"QASearchBar\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={this.state.searchString}\r\n                        onChange={this.onChangeSearch}\r\n                        placeholder=\"Find trainee...\"\r\n                    />\r\n                    <select className=\"filter\" onChange={this.onChangeFilter}>\r\n                        <option>Select a filter</option>\r\n                        <option value='MyTrainees'>My Trainees</option>\r\n                    </select>\r\n                    <div id=\"addUser\">\r\n                        <button className=\"qabtn\"><Link className=\"link\" to={\"/create\"}>Add Trainee</Link></button>\r\n                    </div>\r\n                </div>\r\n\r\n                <table className=\"table table-striped\" style={{ marginTop: 20 }} >\r\n                    <thead>\r\n                        <tr>\r\n                            <th>First Name</th>\r\n                            <th>Last Name</th>\r\n                            <th>Email</th>\r\n                            <th>Status</th>\r\n                            <th>Recruited By</th>\r\n                            <th>Bursary</th>\r\n                            <th>Action</th>\r\n                        </tr>\r\n                    </thead>               \r\n                    <tbody>\r\n                        {trainees.map(t => {\r\n                            return (\r\n                                <tr>\r\n                                    <td> {t.trainee_fname}</td>\r\n                                    <td> {t.trainee_lname}</td>\r\n                                    <td> {t.trainee_email}</td>\r\n                                    <td> {t.status}</td>\r\n                                    <td> {t.added_By}</td>\r\n                                    <td> {t.bursary}</td>\r\n                                    <td> <button onClick={() => window.location.href=\"/editDates/\"+t._id}> Edit </button> \r\n                                    <button onClick={()=>axios.get('http://'+process.env.REACT_APP_AWS_IP+':4000/trainee/delete/'+t._id).then((response) => window.location.reload())}>Delete</button>\r\n                                    </td>\r\n                                </tr>\r\n                            );\r\n                        })}\r\n                    </tbody>\r\n\r\n                </table>\r\n            </div>\r\n            </div>\r\n        );\r\n\t\t\t\r\n\t\t}else{\r\n        return (\r\n            <div className=\"bigBox\">\r\n            <div className=\"QAtable\">\r\n                <div className=\"QASearchBar\">\r\n                    <input\r\n                        type=\"text\"\r\n                        value={this.state.searchString}\r\n                        onChange={this.onChangeSearch}\r\n                        placeholder=\"Find trainee...\"\r\n                    />\r\n                </div>\r\n\r\n                <table className=\"table table-striped\" style={{ marginTop: 20 }} >\r\n                    <thead>\r\n                        <tr>\r\n                            <th>First Name</th>\r\n                            <th>Last Name</th>\r\n                            <th>Email</th>\r\n                            <th>Status</th>\r\n                            <th>Recruited By</th>\r\n                            <th>Bursary</th>\r\n                            <th>Action</th>\r\n                        </tr>\r\n                    </thead>               \r\n                    <tbody>\r\n                        {trainees.map(t => {\r\n\t\t\t\t\t\t\tif (this.state.currentUser.token.role === 'admin'){\r\n                            return (\r\n                                <tr>\r\n                                    <td> {t.trainee_fname}</td>\r\n                                    <td> {t.trainee_lname}</td>\r\n                                    <td> {t.trainee_email}</td>\r\n                                    <td> {t.status}</td>\r\n                                    <td> {t.added_By}</td>\r\n                                    <td> {t.bursary}</td>\r\n                                    <td>\r\n                                    <td> \r\n                                        <button onClick={() => window.location.href=\"/editDates/\"+t._id}> Edit </button> </td>\r\n                                        <button onClick={()=>axios.get('http://'+process.env.REACT_APP_AWS_IP+':4000/trainee/delete/'+t._id).then((response) => window.location.reload())}>Delete</button>\r\n\t\t\t\t\t\t\t\t   </td>\r\n                                </tr>\r\n                            );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse if(this.state.currentUser.token.role === 'finance'){\r\n\t\t\t\t\t\t\treturn (\r\n                                <tr>\r\n                                    <td> {t.trainee_fname}</td>\r\n                                    <td> {t.trainee_lname}</td>\r\n                                    <td> {t.trainee_email}</td>\r\n                                    <td> {t.status}</td>\r\n                                    <td> {t.added_By}</td>\r\n                                    <td> {t.bursary}</td>\r\n                                    <td> \r\n\t\t\t\t\t\t\t\t\t\t<button onClick={()=>window.location.href=\"/trainee-details/\"+t._id}> View Details </button>\r\n                                    </td>\r\n                                </tr>\r\n                            );\r\n\t\t\t\t\t\t\t}\r\n                        })}\r\n                    </tbody>\r\n\r\n                </table>\r\n            </div>\r\n            </div>\r\n        );\r\n\t\t}\r\n\t}\r\n}"]},"metadata":{},"sourceType":"module"}